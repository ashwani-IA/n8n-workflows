{"createdAt":"2025-04-30T09:28:51.178Z","updatedAt":"2025-05-19T06:03:58.368Z","id":"FP1KtDyDFntudZdp","name":"chat customer support","active":false,"nodes":[{"parameters":{"options":{"systemMessage":"=you are a  helpful assistant"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.9,"position":[-600,-300],"id":"4e0eac2b-975a-4082-b2da-27be6825bbe6","name":"AI Agent"},{"parameters":{"model":"intelgpt4o","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatAzureOpenAi","typeVersion":1,"position":[-820,-40],"id":"d4b2ab44-e93a-4b83-ad2b-5bd3cbf609ca","name":"Azure OpenAI Chat Model","credentials":{"azureOpenAiApi":{"id":"HXWAquqkGnZYbN9F","name":"Azure Open AI gpt 4o"}}},{"parameters":{"name":"get_order_data","description":"call this tool to get shopify customer order data. the input must provide an email to identify the customer","workflowId":{"__rl":true,"value":"LdzllH4oj6UM6Ie6","mode":"list","cachedResultName":"get costomer order data"},"workflowInputs":{"mappingMode":"defineBelow","value":{"email":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('email', ``, 'string') }}"},"matchingColumns":[],"schema":[{"id":"email","displayName":"email","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"order_name","displayName":"order_name","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.1,"position":[-500,-40],"id":"3c3fd85f-db95-4007-9a32-a5dc47061f09","name":"get user's order data"},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[-660,-40],"id":"cf789516-c9a6-4c95-8af3-2f6a91d0f80e","name":"Simple Memory"},{"parameters":{"tableName":{"__rl":true,"value":"documents","mode":"list","cachedResultName":"documents"},"options":{"queryName":"match_documents"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[-460,180],"id":"b3aff39a-1df5-45b6-92dd-1c19fe86a6be","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"m31vqIjcprlfz4qD","name":"Supabase account"}}},{"parameters":{"model":"inteltextembeddingada002","options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsAzureOpenAi","typeVersion":1,"position":[-420,340],"id":"a0fe6e69-fb5b-4b30-873b-d4d5de9b5b37","name":"Embeddings Azure OpenAI","credentials":{"azureOpenAiApi":{"id":"HXWAquqkGnZYbN9F","name":"Azure Open AI gpt 4o"}}},{"parameters":{"model":"intelgpt4o","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatAzureOpenAi","typeVersion":1,"position":[-160,180],"id":"37c89c4c-395c-40d6-b5f6-e670050cce3e","name":"Azure OpenAI Chat Model1","credentials":{"azureOpenAiApi":{"id":"HXWAquqkGnZYbN9F","name":"Azure Open AI gpt 4o"}}},{"parameters":{"name":"user_documents","description":"contains the store's policies on shipping and returns"},"type":"@n8n/n8n-nodes-langchain.toolVectorStore","typeVersion":1,"position":[-340,-40],"id":"8296ab0c-7c36-4acd-802f-0575c2d85b34","name":"retrieve documents"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[-1300,-300],"id":"489bc0ee-3b94-4814-92ef-5db251ea4173","name":"When chat message received","webhookId":"82538dc8-3f06-4a10-b2b6-26f3357f1662"}],"connections":{"Azure OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"AI Agent":{"main":[[]]},"get user's order data":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Supabase Vector Store":{"ai_vectorStore":[[{"node":"retrieve documents","type":"ai_vectorStore","index":0}]]},"Embeddings Azure OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Azure OpenAI Chat Model1":{"ai_languageModel":[[{"node":"retrieve documents","type":"ai_languageModel","index":0}]]},"retrieve documents":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{"node:Gmail Trigger":{"Gmail Trigger":{"lastTimeChecked":1745854124,"possibleDuplicates":["1967d03e19c3d8ff"]}}},"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"6d34eeb0-2ccb-4793-ad20-8e4185fd5dec","triggerCount":1,"tags":[]}